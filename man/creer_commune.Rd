% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/creer_commune.R, R/summary_commune.R
\name{creer_commune}
\alias{creer_commune}
\title{Creer un objet de type "commune"}
\usage{
creer_commune(df)

creer_commune(df)
}
\arguments{
\item{df}{Un dataframe contenant au moins la colonne suivante :
\itemize{
\item \code{Code.de.la.commune} (character ou numeric) : Le code identifiant la commune.
}}
}
\value{
Un dataframe de classe \code{"commune"}, qui peut etre utilise avec des fonctions specifiques aux communes.

Un dataframe de classe \code{"commune"}, prêt à être utilisé dans d'autres fonctions spécifiques aux communes.
}
\description{
Cette fonction transforme un dataframe representant une commune en un objet de classe "commune".

La fonction vérifie que le dataframe respecte la structure attendue via \code{validate_schema()},
s'assure qu'il ne contient qu'une seule commune distincte (basée sur \code{Code.de.la.commune}),
et lui attribue la classe \code{"commune"} s'il ne l'a pas déjà.
}
\details{
\itemize{
\item La fonction verifie que la colonne \code{Code.de.la.commune} est presente dans \code{df}.
\item Elle s'assure que le dataframe represente une seule commune, sinon elle genere une erreur.
\item La classe \code{"commune"} est ajoutee à l'objet pour faciliter son utilisation ultérieure.
}

Cette fonction permet de transformer un dataframe représentant une seule commune en un objet de classe "commune".
\itemize{
\item \code{validate_schema(df)} est appelé pour valider la structure du dataframe avant tout traitement.
\item La fonction vérifie qu'il n'y a \strong{qu'une seule commune distincte} en comptant les valeurs uniques de \code{Code.de.la.commune}.
\item Si plusieurs communes sont détectées, la fonction s'arrête avec un message d'erreur.
\item Si la classe \code{"commune"} n'est pas déjà présente, elle est ajoutée à l'objet.
}
}
\examples{
\dontrun{
data <- data.frame(
  Code.de.la.commune = rep("75056", 5),
  Nom.de.la.commune = rep("Paris", 5),
  Population = c(100, 200, 150, 180, 220)
)
commune <- creer_commune(data)
class(commune)  # Vérifier la classe
}

\dontrun{
# Exemple de dataframe valide avec une seule commune
data <- data.frame(
  Code.de.la.commune = rep("75056", 5),  # Paris
  Nom.de.la.commune = rep("Paris", 5),
  Population = c(100, 200, 150, 180, 220)
)

# Créer l'objet commune
commune <- creer_commune(data)
class(commune)  # Vérifier la classe
}

}
